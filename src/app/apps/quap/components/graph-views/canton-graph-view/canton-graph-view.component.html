<div class="graph-container">
  <svg width="1760"  viewBox="0 0 3520 1768" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xhtml="http://www.w3.org/1999/xhtml">
    <foreignObject *ngFor="let aspect of aspects; let i = index" [attr.x]="aspectMapping[aspect.id].x" [attr.y]="aspectMapping[aspect.id].y" width="320" height="160" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" (click)="onAspectClick(i)">
      <xhtml:div xmlns="http://www.w3.org/1999/xhtml">
        <app-summary-view [text]="aspect.name" [values$]="getData(aspect.id)" [clickable]="isClickable(aspect)"></app-summary-view>
      </xhtml:div>
    </foreignObject>
    <foreignObject x="3030" y="1050" width="450" height="670" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
      <xhtml:div xmlns="http://www.w3.org/1999/xhtml">
        <app-legend />
      </xhtml:div>
    </foreignObject>
    <path d="M2539.21 133L2539.21 137.5L2539.21 137.5L2539.21 133ZM2598 193L2602.5 193L2602.5 193L2598 193ZM2598 228L2623.98 183L2572.02 183L2598 228ZM1629 137.5L2539.21 137.5L2539.21 128.5L1629 128.5L1629 137.5ZM2539.21 137.5C2569.11 137.5 2593.5 162.261 2593.5 193L2602.5 193C2602.5 157.465 2574.25 128.5 2539.21 128.5L2539.21 137.5Z" fill="black"/>
    <path d="M2599.5 538.015L2625.48 493.015H2573.52L2599.5 538.015ZM2595 386.985V497.515H2604V386.985H2595Z" fill="black"/>
    <path d="M1457 1434L1482.98 1389H1431.02L1457 1434ZM1452.5 1328V1393.5H1461.5V1328H1452.5Z" fill="black"/>
    <path d="M2538.93 1631L2538.93 1635.5H2538.93V1631ZM939 1631L984 1656.98L984 1605.02L939 1631ZM2594.5 698V1571H2603.5V698H2594.5ZM2538.93 1626.5L979.5 1626.5L979.5 1635.5L2538.93 1635.5L2538.93 1626.5ZM2594.5 1571C2594.5 1601.65 2569.62 1626.5 2538.93 1626.5V1635.5C2574.58 1635.5 2603.5 1606.63 2603.5 1571H2594.5Z" fill="black"/>
    <path d="M2600 1188.5L2595.5 1188.5V1188.5H2600ZM2540 1248.5L2540 1253H2540V1248.5ZM1860 1248.5L1860 1253L1860 1253L1860 1248.5ZM1800 1308.5L1795.5 1308.5L1795.5 1308.5L1800 1308.5ZM1800 1456L1804.5 1456L1804.5 1456L1800 1456ZM1740 1516L1740 1520.5H1740V1516ZM1612 1516L1657 1541.98L1657 1490.02L1612 1516ZM2595.5 702L2595.5 1188.5L2604.5 1188.5L2604.5 702L2595.5 702ZM2540 1244L1860 1244L1860 1253L2540 1253L2540 1244ZM1795.5 1308.5L1795.5 1456L1804.5 1456L1804.5 1308.5L1795.5 1308.5ZM1740 1511.5L1652.5 1511.5L1652.5 1520.5L1740 1520.5L1740 1511.5ZM1795.5 1456C1795.5 1486.65 1770.65 1511.5 1740 1511.5V1520.5C1775.62 1520.5 1804.5 1491.62 1804.5 1456L1795.5 1456ZM1860 1244C1824.38 1244 1795.5 1272.88 1795.5 1308.5L1804.5 1308.5C1804.5 1277.85 1829.35 1253 1860 1253L1860 1244ZM2595.5 1188.5C2595.5 1219.15 2570.65 1244 2540 1244V1253C2575.62 1253 2604.5 1224.12 2604.5 1188.5H2595.5Z" fill="black"/>
    <path d="M2598 1452.3L2602.5 1452.3L2602.5 1452.3L2598 1452.3ZM2538 1513L2538 1517.5L2538 1517.5L2538 1513ZM2248 1513L2293 1538.98L2293 1487.02L2248 1513ZM2593.5 698L2593.5 1452.3L2602.5 1452.3L2602.5 698L2593.5 698ZM2538 1508.5L2288.5 1508.5L2288.5 1517.5L2538 1517.5L2538 1508.5ZM2593.5 1452.3C2593.5 1483.39 2568.6 1508.5 2538 1508.5L2538 1517.5C2573.67 1517.5 2602.5 1488.26 2602.5 1452.3L2593.5 1452.3Z" fill="black"/>
    <path d="M1612 1248L1657 1273.98V1222.02L1612 1248ZM2593.5 700.5V1188H2602.5V700.5H2593.5ZM2538 1243.5H1652.5V1252.5H2538V1243.5ZM2593.5 1188C2593.5 1218.65 2568.65 1243.5 2538 1243.5V1252.5C2573.62 1252.5 2602.5 1223.62 2602.5 1188H2593.5Z" fill="black"/>
    <path d="M1612 1018L1657 1043.98V992.019L1612 1018ZM2593.5 700V958H2602.5V700H2593.5ZM2538 1013.5H1652.5V1022.5H2538V1013.5ZM2593.5 958C2593.5 988.652 2568.65 1013.5 2538 1013.5V1022.5C2573.62 1022.5 2602.5 993.622 2602.5 958H2593.5Z" fill="black"/>
    <path d="M2248 858L2293 883.981V832.019L2248 858ZM2593.5 700V798H2602.5V700H2593.5ZM2538 853.5H2288.5V862.5H2538V853.5ZM2593.5 798C2593.5 828.652 2568.65 853.5 2538 853.5V862.5C2573.62 862.5 2602.5 833.622 2602.5 798H2593.5Z" fill="black"/>
    <path d="M2090 387L2064.02 432H2115.98L2090 387ZM2094.5 538.03V427.5H2085.5V538.03H2094.5Z" fill="black"/>
    <path d="M330 367L325.5 367L325.5 367L330 367ZM390 307L390 302.5L390 302.5L390 307ZM622 307L577 281.019L577 332.981L622 307ZM334.5 698.03L334.5 367L325.5 367L325.5 698.03L334.5 698.03ZM390 311.5L581.5 311.5L581.5 302.5L390 302.5L390 311.5ZM334.5 367C334.5 336.348 359.348 311.5 390 311.5L390 302.5C354.378 302.5 325.5 331.378 325.5 367L334.5 367Z" fill="black"/>
    <path d="M330 192.5L325.5 192.5V192.5H330ZM390 132.5L390 128L390 128L390 132.5ZM1309 132.5L1264 106.519V158.481L1309 132.5ZM334.5 698.029V192.5H325.5V698.029H334.5ZM390 137H1268.5V128H390V137ZM334.5 192.5C334.5 161.848 359.348 137 390 137L390 128C354.378 128 325.5 156.878 325.5 192.5L334.5 192.5Z" fill="black"/>
    <path d="M330 1571L325.5 1571V1571H330ZM330 858L304.019 903L355.981 903L330 858ZM622 1626.5H390V1635.5H622V1626.5ZM334.5 1571L334.5 898.5L325.5 898.5L325.5 1571L334.5 1571ZM390 1626.5C359.348 1626.5 334.5 1601.65 334.5 1571H325.5C325.5 1606.62 354.378 1635.5 390 1635.5V1626.5Z" fill="black"/>
    <path d="M330 956L325.5 956V956H330ZM330 858L304.019 903L355.981 903L330 858ZM622 1011.5H390V1020.5H622V1011.5ZM334.5 956L334.5 898.5L325.5 898.5L325.5 956L334.5 956ZM390 1011.5C359.348 1011.5 334.5 986.652 334.5 956H325.5C325.5 991.622 354.378 1020.5 390 1020.5V1011.5Z" fill="black"/>
    <path d="M330 1191L325.5 1191V1191H330ZM330 858L304.019 903L355.981 903L330 858ZM622 1246.5H390V1255.5H622V1246.5ZM334.5 1191L334.5 898.5L325.5 898.5L325.5 1191L334.5 1191ZM390 1246.5C359.348 1246.5 334.5 1221.65 334.5 1191H325.5C325.5 1226.62 354.378 1255.5 390 1255.5V1246.5Z" fill="black"/>
    <path d="M1072 555L1072 559.5H1072V555ZM844 555L844 559.5L844 559.5L844 555ZM784 495L788.5 495L788.5 495L784 495ZM784 390L758.019 435L809.981 435L784 390ZM1132 615L1127.5 615V615H1132ZM1072 550.5L844 550.5L844 559.5L1072 559.5L1072 550.5ZM788.5 495L788.5 430.5L779.5 430.5L779.5 495L788.5 495ZM1136.5 984.502V615H1127.5V984.502H1136.5ZM844 550.5C813.348 550.5 788.5 525.652 788.5 495L779.5 495C779.5 530.623 808.378 559.5 844 559.5L844 550.5ZM1072 559.5C1102.65 559.5 1127.5 584.348 1127.5 615L1136.5 615C1136.5 579.378 1107.62 550.5 1072 550.5V559.5ZM1136.5 1230.14L1136.5 1005.28L1127.5 1005.28L1127.5 1230.14L1136.5 1230.14Z" fill="black"/>
    <path d="M2438 308L2393 282.019V333.981L2438 308ZM2248 312.5H2397.5V303.5H2248V312.5Z" fill="black"/>
    <path d="M2438 308L2393 282.019V333.981L2438 308ZM2248 312.5H2397.5V303.5H2248V312.5Z" fill="black"/>
    <path d="M2438 308L2393 282.019V333.981L2438 308ZM2248 312.5H2397.5V303.5H2248V312.5Z" fill="black"/>
    <path d="M1928 307L1883 281.019V332.981L1928 307ZM942 311.5H1887.5V302.5H942V311.5Z" fill="black"/>
    <path d="M2248 618L2293 643.981V592.019L2248 618ZM2288.5 622.5H2438V613.5H2288.5V622.5Z" fill="black"/>
    <path d="M1929 1514L1873.5 1514C1841.19 1514 1815 1540.19 1815 1572.5C1815 1604.81 1788.81 1631 1756.5 1631L1629 1631" stroke="black" stroke-width="9"/>
    <path d="M1928 308L1883 282.019L1883 333.981L1928 308ZM1838 308L1838 312.5L1838 308ZM1778 368L1773.5 368V368L1778 368ZM1778 799L1782.5 799V799L1778 799ZM1838 859L1838 863.5L1838 863.5L1838 859ZM1887.5 303.5L1838 303.5L1838 312.5L1887.5 312.5L1887.5 303.5ZM1773.5 368L1773.5 799L1782.5 799L1782.5 368L1773.5 368ZM1838 863.5L1929 863.5L1929 854.5L1838 854.5L1838 863.5ZM1773.5 799C1773.5 834.622 1802.38 863.5 1838 863.5L1838 854.5C1807.35 854.5 1782.5 829.652 1782.5 799L1773.5 799ZM1838 303.5C1802.38 303.5 1773.5 332.378 1773.5 368L1782.5 368C1782.5 337.348 1807.35 312.5 1838 312.5L1838 303.5Z" fill="black"/>
    <path d="M1928 308L1883 282.019L1883 333.981L1928 308ZM1838 308L1838 303.5L1838 308ZM1778 368L1773.5 368V368L1778 368ZM1778 558L1782.5 558V558L1778 558ZM1838 618L1838 622.5L1838 622.5L1838 618ZM1887.5 303.5L1838 303.5L1838 312.5L1887.5 312.5L1887.5 303.5ZM1773.5 368L1773.5 558L1782.5 558L1782.5 368L1773.5 368ZM1838 622.5L1928 622.5L1928 613.5L1838 613.5L1838 622.5ZM1773.5 558C1773.5 593.622 1802.38 622.5 1838 622.5L1838 613.5C1807.35 613.5 1782.5 588.651 1782.5 558L1773.5 558ZM1838 303.5C1802.38 303.5 1773.5 332.377 1773.5 368L1782.5 368C1782.5 337.348 1807.35 312.5 1838 312.5L1838 303.5Z" fill="black"/>
    <path d="M1191.87 1524.59L1191.87 1520.09H1191.87V1524.59ZM940.875 1054.59L985.875 1080.57L985.875 1028.61L940.875 1054.59ZM1071.87 1054.59L1071.87 1059.09L1071.87 1059.09L1071.87 1054.59ZM1131.87 1114.59L1136.37 1114.59L1136.37 1114.59L1131.87 1114.59ZM1131.87 1464.59L1136.37 1464.59V1464.59L1131.87 1464.59ZM1191.87 1529.09L1297.87 1529.09L1297.87 1520.09L1191.87 1520.09L1191.87 1529.09ZM981.375 1059.09L1071.87 1059.09L1071.87 1050.09L981.375 1050.09L981.375 1059.09ZM1127.37 1114.59L1127.37 1464.59L1136.37 1464.59L1136.37 1114.59L1127.37 1114.59ZM1071.87 1059.09C1102.53 1059.09 1127.37 1083.94 1127.37 1114.59L1136.37 1114.59C1136.37 1078.97 1107.5 1050.09 1071.87 1050.09L1071.87 1059.09ZM1191.87 1520.09C1161.22 1520.09 1136.37 1495.24 1136.37 1464.59H1127.37C1127.37 1500.21 1156.25 1529.09 1191.87 1529.09V1520.09Z" fill="black"/>
    <path d="M938.875 1251.59L983.875 1277.57L983.875 1225.61L938.875 1251.59ZM1071.87 1251.59L1071.87 1256.09L1071.87 1256.09L1071.87 1251.59ZM1131.87 1311.59L1136.37 1311.59L1136.37 1311.59L1131.87 1311.59ZM1131.87 1465.59L1136.37 1465.59V1465.59L1131.87 1465.59ZM1191.87 1530.09H1297.87V1521.09H1191.87V1530.09ZM979.375 1256.09L1071.87 1256.09L1071.87 1247.09L979.375 1247.09L979.375 1256.09ZM1127.37 1311.59L1127.37 1465.59L1136.37 1465.59L1136.37 1311.59L1127.37 1311.59ZM1071.87 1256.09C1102.53 1256.09 1127.37 1280.94 1127.37 1311.59L1136.37 1311.59C1136.37 1275.97 1107.5 1247.09 1071.87 1247.09L1071.87 1256.09ZM1191.87 1521.09C1161.22 1521.09 1136.37 1496.24 1136.37 1465.59H1127.37C1127.37 1501.21 1156.25 1530.09 1191.87 1530.09V1521.09Z" fill="black"/>
    <path d="M942 995L987 1020.98V969.019L942 995ZM982.5 999.5L1298 999.5V990.5L982.5 990.5V999.5Z" fill="black"/>
    <path d="M784 390L758.019 435L809.981 435L784 390ZM784 495L788.5 495V495L784 495ZM844 555L844 559.5H844L844 555ZM1397 555L1397 559.5L1397 559.5L1397 555ZM779.5 430.5L779.5 495L788.5 495L788.5 430.5L779.5 430.5ZM844 559.5L1397 559.5L1397 550.5L844 550.5L844 559.5ZM1452.5 615V939H1461.5V615H1452.5ZM1397 559.5C1427.65 559.5 1452.5 584.348 1452.5 615H1461.5C1461.5 579.378 1432.62 550.5 1397 550.5L1397 559.5ZM779.5 495C779.5 530.622 808.378 559.5 844 559.5V550.5C813.348 550.5 788.5 525.652 788.5 495L779.5 495Z" fill="black"/>
  </svg>
</div>
