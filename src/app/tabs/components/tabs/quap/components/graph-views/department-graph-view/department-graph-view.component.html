
<div *ngIf="aspects.length === 0" class="graph-container">
  <span>{{'quap.unavailable' | translate}}</span>
</div>

<div *ngIf="aspects.length > 0" class="graph-container">
  <svg width="1200" viewBox="0 0 2560 2560" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xhtml="http://www.w3.org/1999/xhtml">
    <g id="graph" clip-path="url(#clip0)">
      <rect x="121.5" y="761.5" width="717" height="317" rx="28.5" fill="white" stroke="black" stroke-width="3"/>
      <foreignObject *ngFor="let aspect of aspects; let i = index" [attr.x]="aspectMapping[aspect.id].x" [attr.y]="aspectMapping[aspect.id].y" width="320" height="160" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" (click)="onAspectClick(i)">
        <xhtml:div xmlns="http://www.w3.org/1999/xhtml">
          <app-summary-view [text]="aspect.name" [values$]="getData(aspect.id)"></app-summary-view>
        </xhtml:div>
      </foreignObject>
      <foreignObject x="160" y="1000" width="640" height="40" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
        <xhtml:div xmlns="http://www.w3.org/1999/xhtml" class="text">
          <span>{{'quap.graph.program-design' | translate}}</span>
        </xhtml:div>
      </foreignObject>
      <path d="M481.061 478.939C480.475 478.354 479.525 478.354 478.939 478.939L469.393 488.485C468.808 489.071 468.808 490.021 469.393 490.607C469.979 491.192 470.929 491.192 471.515 490.607L480 482.121L488.485 490.607C489.071 491.192 490.021 491.192 490.607 490.607C491.192 490.021 491.192 489.071 490.607 488.485L481.061 478.939ZM481.5 760V480H478.5V760H481.5Z" fill="black"/>
      <path d="M480 304L481.5 304L480 304ZM544 240L544 238.5L544 240ZM961.061 241.061C961.647 240.475 961.647 239.525 961.061 238.939L951.515 229.393C950.929 228.808 949.979 228.808 949.393 229.393C948.808 229.979 948.808 230.929 949.393 231.515L957.879 240L949.393 248.485C948.808 249.071 948.808 250.021 949.393 250.607C949.979 251.192 950.929 251.192 951.515 250.607L961.061 241.061ZM481.5 320L481.5 304L478.5 304L478.5 320L481.5 320ZM544 241.5L960 241.5L960 238.5L544 238.5L544 241.5ZM481.5 304C481.5 269.482 509.482 241.5 544 241.5L544 238.5C507.825 238.5 478.5 267.825 478.5 304L481.5 304Z" fill="black"/>
      <path d="M1761.06 241.033C1761.65 240.446 1761.65 239.496 1761.06 238.911L1751.49 229.386C1750.9 228.801 1749.96 228.803 1749.37 229.39C1748.79 229.977 1748.79 230.927 1749.38 231.512L1757.88 239.979L1749.41 248.482C1748.83 249.069 1748.83 250.019 1749.42 250.604C1750 251.188 1750.95 251.186 1751.54 250.599L1761.06 241.033ZM1280 242.5L1760 241.474L1760 238.474L1280 239.5L1280 242.5Z" fill="black"/>
      <path d="M2336 241L2336 239.5L2336 239.5L2336 241ZM2400 305L2398.5 305L2398.5 305L2400 305ZM2398.94 641.061C2399.52 641.646 2400.47 641.646 2401.06 641.061L2410.61 631.515C2411.19 630.929 2411.19 629.979 2410.61 629.393C2410.02 628.808 2409.07 628.808 2408.48 629.393L2400 637.879L2391.51 629.393C2390.93 628.808 2389.98 628.808 2389.39 629.393C2388.81 629.979 2388.81 630.929 2389.39 631.515L2398.94 641.061ZM2080 242.5L2336 242.5L2336 239.5L2080 239.5L2080 242.5ZM2398.5 305L2398.5 640L2401.5 640L2401.5 305L2398.5 305ZM2336 242.5C2370.52 242.5 2398.5 270.482 2398.5 305L2401.5 305C2401.5 268.825 2372.17 239.5 2336 239.5L2336 242.5Z" fill="black"/>
      <path d="M2398.94 961.061C2399.53 961.646 2400.47 961.646 2401.06 961.061L2410.61 951.515C2411.19 950.929 2411.19 949.979 2410.61 949.393C2410.02 948.808 2409.07 948.808 2408.49 949.393L2400 957.879L2391.51 949.393C2390.93 948.808 2389.98 948.808 2389.39 949.393C2388.81 949.979 2388.81 950.929 2389.39 951.515L2398.94 961.061ZM2398.5 800V960H2401.5V800H2398.5Z" fill="black"/>
      <path d="M2096 880L2096 881.5L2096 881.5L2096 880ZM2160 816L2161.5 816V816L2160 816ZM2160 784L2158.5 784V784L2160 784ZM2224 720L2224 718.5L2224 718.5L2224 720ZM2241.06 721.061C2241.65 720.475 2241.65 719.525 2241.06 718.939L2231.51 709.393C2230.93 708.808 2229.98 708.808 2229.39 709.393C2228.81 709.979 2228.81 710.929 2229.39 711.515L2237.88 720L2229.39 728.485C2228.81 729.071 2228.81 730.021 2229.39 730.607C2229.98 731.192 2230.93 731.192 2231.51 730.607L2241.06 721.061ZM2080 881.5L2096 881.5L2096 878.5L2080 878.5L2080 881.5ZM2161.5 816L2161.5 784L2158.5 784L2158.5 816L2161.5 816ZM2224 721.5L2240 721.5L2240 718.5L2224 718.5L2224 721.5ZM2161.5 784C2161.5 749.482 2189.48 721.5 2224 721.5L2224 718.5C2187.83 718.5 2158.5 747.825 2158.5 784L2161.5 784ZM2096 881.5C2132.17 881.5 2161.5 852.175 2161.5 816L2158.5 816C2158.5 850.518 2130.52 878.5 2096 878.5L2096 881.5Z" fill="black"/>
      <path d="M1280 944L1281.5 944L1280 944ZM1344 880L1344 878.5L1344 880ZM1761.06 881.061C1761.65 880.475 1761.65 879.525 1761.06 878.939L1751.52 869.393C1750.93 868.808 1749.98 868.808 1749.39 869.393C1748.81 869.979 1748.81 870.929 1749.39 871.515L1757.88 880L1749.39 888.485C1748.81 889.071 1748.81 890.021 1749.39 890.606C1749.98 891.192 1750.93 891.192 1751.52 890.606L1761.06 881.061ZM1281.5 960L1281.5 944L1278.5 944L1278.5 960L1281.5 960ZM1344 881.5L1760 881.5L1760 878.5L1344 878.5L1344 881.5ZM1281.5 944C1281.5 909.482 1309.48 881.5 1344 881.5L1344 878.5C1307.83 878.5 1278.5 907.826 1278.5 944L1281.5 944Z" fill="black"/>
      <path d="M1280 784L1278.5 784V784L1280 784ZM1344 720L1344 721.5H1344L1344 720ZM2241.06 721.061C2241.65 720.475 2241.65 719.525 2241.06 718.939L2231.51 709.393C2230.93 708.808 2229.98 708.808 2229.39 709.393C2228.81 709.979 2228.81 710.929 2229.39 711.515L2237.88 720L2229.39 728.485C2228.81 729.071 2228.81 730.021 2229.39 730.607C2229.98 731.192 2230.93 731.192 2231.51 730.607L2241.06 721.061ZM1281.5 960L1281.5 784L1278.5 784L1278.5 960L1281.5 960ZM1344 721.5L2240 721.5L2240 718.5L1344 718.5L1344 721.5ZM1281.5 784C1281.5 749.482 1309.48 721.5 1344 721.5L1344 718.5C1307.83 718.5 1278.5 747.825 1278.5 784L1281.5 784Z" fill="black"/>
      <path d="M1100 1040L1100 1038.5L1100 1038.5L1100 1040ZM980 920L980 921.5L980 920ZM838.94 918.94C838.354 919.525 838.354 920.475 838.94 921.061L848.485 930.607C849.071 931.193 850.021 931.193 850.607 930.607C851.193 930.021 851.193 929.071 850.607 928.486L842.122 920L850.607 911.515C851.193 910.929 851.193 909.979 850.607 909.394C850.021 908.808 849.071 908.808 848.485 909.394L838.94 918.94ZM1040 980L1038.5 980V980L1040 980ZM1120 1038.5L1100 1038.5L1100 1041.5L1120 1041.5L1120 1038.5ZM980 918.5L840 918.5L840 921.5L980 921.5L980 918.5ZM1041.5 980C1041.5 946.035 1013.97 918.5 980 918.5L980 921.5C1012.31 921.5 1038.5 947.692 1038.5 980L1041.5 980ZM1100 1038.5C1067.69 1038.5 1041.5 1012.31 1041.5 980L1038.5 980C1038.5 1013.97 1066.03 1041.5 1100 1041.5L1100 1038.5Z" fill="black"/>
      <path d="M1344 1360L1344 1361.5L1344 1361.5L1344 1360ZM1280 1296L1278.5 1296L1278.5 1296L1280 1296ZM1281.06 1118.94C1280.47 1118.35 1279.52 1118.35 1278.94 1118.94L1269.39 1128.48C1268.81 1129.07 1268.81 1130.02 1269.39 1130.61C1269.98 1131.19 1270.93 1131.19 1271.51 1130.61L1280 1122.12L1288.48 1130.61C1289.07 1131.19 1290.02 1131.19 1290.61 1130.61C1291.19 1130.02 1291.19 1129.07 1290.61 1128.48L1281.06 1118.94ZM1760 1358.5L1344 1358.5L1344 1361.5L1760 1361.5L1760 1358.5ZM1281.5 1296L1281.5 1120L1278.5 1120L1278.5 1296L1281.5 1296ZM1344 1358.5C1309.48 1358.5 1281.5 1330.52 1281.5 1296L1278.5 1296C1278.5 1332.17 1307.83 1361.5 1344 1361.5L1344 1358.5Z" fill="black"/>
      <path d="M1761.06 881.061C1761.65 880.475 1761.65 879.525 1761.06 878.939L1751.51 869.393C1750.93 868.808 1749.98 868.808 1749.39 869.393C1748.81 869.979 1748.81 870.929 1749.39 871.515L1757.88 880L1749.39 888.485C1748.81 889.071 1748.81 890.021 1749.39 890.607C1749.98 891.192 1750.93 891.192 1751.51 890.607L1761.06 881.061ZM1760 1358.5H1744V1361.5H1760V1358.5ZM1681.5 1296V944H1678.5V1296H1681.5ZM1744 881.5H1760V878.5H1744V881.5ZM1681.5 944C1681.5 909.482 1709.48 881.5 1744 881.5V878.5C1707.83 878.5 1678.5 907.825 1678.5 944H1681.5ZM1744 1358.5C1709.48 1358.5 1681.5 1330.52 1681.5 1296H1678.5C1678.5 1332.17 1707.83 1361.5 1744 1361.5V1358.5Z" fill="black"/>
      <path d="M2400 1296L2401.5 1296L2400 1296ZM2336 1360L2336 1358.5H2336L2336 1360ZM2078.94 1358.94C2078.35 1359.53 2078.35 1360.47 2078.94 1361.06L2088.49 1370.61C2089.07 1371.19 2090.02 1371.19 2090.61 1370.61C2091.19 1370.02 2091.19 1369.07 2090.61 1368.49L2082.12 1360L2090.61 1351.51C2091.19 1350.93 2091.19 1349.98 2090.61 1349.39C2090.02 1348.81 2089.07 1348.81 2088.49 1349.39L2078.94 1358.94ZM2398.5 1120L2398.5 1296L2401.5 1296L2401.5 1120L2398.5 1120ZM2336 1358.5L2080 1358.5L2080 1361.5L2336 1361.5L2336 1358.5ZM2398.5 1296C2398.5 1330.52 2370.52 1358.5 2336 1358.5L2336 1361.5C2372.17 1361.5 2401.5 1332.17 2401.5 1296L2398.5 1296Z" fill="black"/>
      <path d="M481.061 1438.94C480.475 1438.35 479.525 1438.35 478.939 1438.94L469.393 1448.49C468.808 1449.07 468.808 1450.02 469.393 1450.61C469.979 1451.19 470.929 1451.19 471.515 1450.61L480 1442.12L488.485 1450.61C489.071 1451.19 490.021 1451.19 490.607 1450.61C491.192 1450.02 491.192 1449.07 490.607 1448.49L481.061 1438.94ZM481.5 1600V1440H478.5V1600H481.5Z" fill="black"/>
      <path d="M481.061 1078.94C480.475 1078.35 479.525 1078.35 478.939 1078.94L469.393 1088.49C468.808 1089.07 468.808 1090.02 469.393 1090.61C469.979 1091.19 470.929 1091.19 471.515 1090.61L480 1082.12L488.485 1090.61C489.071 1091.19 490.021 1091.19 490.607 1090.61C491.192 1090.02 491.192 1089.07 490.607 1088.49L481.061 1078.94ZM481.5 1280V1080H478.5V1280H481.5Z" fill="black"/>
      <path d="M1616 2000L1616 2001.5H1616L1616 2000ZM1598.94 1998.94C1598.35 1999.53 1598.35 2000.47 1598.94 2001.06L1608.49 2010.61C1609.07 2011.19 1610.02 2011.19 1610.61 2010.61C1611.19 2010.02 1611.19 2009.07 1610.61 2008.49L1602.12 2000L1610.61 1991.51C1611.19 1990.93 1611.19 1989.98 1610.61 1989.39C1610.02 1988.81 1609.07 1988.81 1608.49 1989.39L1598.94 1998.94ZM1744 1840L1744 1841.5H1744L1744 1840ZM1680 1936L1681.5 1936V1936H1680ZM1616 1998.5L1600 1998.5L1600 2001.5L1616 2001.5L1616 1998.5ZM1760 1838.5L1744 1838.5L1744 1841.5L1760 1841.5L1760 1838.5ZM1678.5 1904V1936H1681.5V1904H1678.5ZM1744 1838.5C1707.83 1838.5 1678.5 1867.83 1678.5 1904H1681.5C1681.5 1869.48 1709.48 1841.5 1744 1841.5L1744 1838.5ZM1616 2001.5C1652.17 2001.5 1681.5 1972.17 1681.5 1936L1678.5 1936C1678.5 1970.52 1650.52 1998.5 1616 1998.5L1616 2001.5Z" fill="black"/>
      <path d="M1921.06 1438.94C1920.47 1438.35 1919.53 1438.35 1918.94 1438.94L1909.39 1448.49C1908.81 1449.07 1908.81 1450.02 1909.39 1450.61C1909.98 1451.19 1910.93 1451.19 1911.51 1450.61L1920 1442.12L1928.49 1450.61C1929.07 1451.19 1930.02 1451.19 1930.61 1450.61C1931.19 1450.02 1931.19 1449.07 1930.61 1448.49L1921.06 1438.94ZM1921.5 1760L1921.5 1440L1918.5 1440L1918.5 1760L1921.5 1760Z" fill="black"/>
      <path d="M1616 1680L1616 1681.5L1616 1681.5L1616 1680ZM1598.94 1678.94C1598.35 1679.52 1598.35 1680.47 1598.94 1681.06L1608.49 1690.61C1609.07 1691.19 1610.02 1691.19 1610.61 1690.61C1611.19 1690.02 1611.19 1689.07 1610.61 1688.48L1602.12 1680L1610.61 1671.51C1611.19 1670.93 1611.19 1669.98 1610.61 1669.39C1610.02 1668.81 1609.07 1668.81 1608.49 1669.39L1598.94 1678.94ZM1744 1360L1744 1358.5H1744L1744 1360ZM1680 1424L1678.5 1424V1424L1680 1424ZM1680 1616L1681.5 1616V1616L1680 1616ZM1616 1678.5L1600 1678.5L1600 1681.5L1616 1681.5L1616 1678.5ZM1760 1358.5L1744 1358.5L1744 1361.5L1760 1361.5L1760 1358.5ZM1678.5 1424L1678.5 1616L1681.5 1616L1681.5 1424L1678.5 1424ZM1744 1358.5C1707.83 1358.5 1678.5 1387.82 1678.5 1424H1681.5C1681.5 1389.48 1709.48 1361.5 1744 1361.5L1744 1358.5ZM1616 1681.5C1652.17 1681.5 1681.5 1652.17 1681.5 1616L1678.5 1616C1678.5 1650.52 1650.52 1678.5 1616 1678.5L1616 1681.5Z" fill="black"/>
      <path d="M638.939 1678.94C638.354 1679.53 638.354 1680.47 638.939 1681.06L648.485 1690.61C649.071 1691.19 650.021 1691.19 650.607 1690.61C651.192 1690.02 651.192 1689.07 650.607 1688.49L642.121 1680L650.607 1671.51C651.192 1670.93 651.192 1669.98 650.607 1669.39C650.021 1668.81 649.071 1668.81 648.485 1669.39L638.939 1678.94ZM1280 1678.5H640V1681.5H1280V1678.5Z" fill="black"/>
      <path d="M544 2000L544 1998.5L544 1998.5L544 2000ZM480 1936L481.5 1936L481.5 1936L480 1936ZM481.061 1758.94C480.475 1758.35 479.525 1758.35 478.939 1758.94L469.393 1768.48C468.808 1769.07 468.808 1770.02 469.393 1770.61C469.979 1771.19 470.929 1771.19 471.515 1770.61L480 1762.12L488.485 1770.61C489.071 1771.19 490.021 1771.19 490.607 1770.61C491.192 1770.02 491.192 1769.07 490.607 1768.48L481.061 1758.94ZM1280 1998.5L544 1998.5L544 2001.5L1280 2001.5L1280 1998.5ZM481.5 1936L481.5 1760L478.5 1760L478.5 1936L481.5 1936ZM544 1998.5C509.482 1998.5 481.5 1970.52 481.5 1936L478.5 1936C478.5 1972.17 507.825 2001.5 544 2001.5L544 1998.5Z" fill="black"/>
      <path d="M958.939 1281.06C959.525 1281.65 960.475 1281.65 961.061 1281.06L970.607 1271.51C971.192 1270.93 971.192 1269.98 970.607 1269.39C970.021 1268.81 969.071 1268.81 968.485 1269.39L960 1277.88L951.515 1269.39C950.929 1268.81 949.979 1268.81 949.393 1269.39C948.808 1269.98 948.808 1270.93 949.393 1271.51L958.939 1281.06ZM481.5 1280V1264H478.5V1280H481.5ZM544 1201.5H896V1198.5H544V1201.5ZM958.5 1264V1280H961.5V1264H958.5ZM896 1201.5C930.518 1201.5 958.5 1229.48 958.5 1264H961.5C961.5 1227.83 932.175 1198.5 896 1198.5V1201.5ZM481.5 1264C481.5 1229.48 509.482 1201.5 544 1201.5V1198.5C507.825 1198.5 478.5 1227.83 478.5 1264H481.5Z" fill="black"/>
      <path d="M481.061 1438.94C480.475 1438.35 479.525 1438.35 478.939 1438.94L469.393 1448.49C468.808 1449.07 468.808 1450.02 469.393 1450.61C469.979 1451.19 470.929 1451.19 471.515 1450.61L480 1442.12L488.485 1450.61C489.071 1451.19 490.021 1451.19 490.607 1450.61C491.192 1450.02 491.192 1449.07 490.607 1448.49L481.061 1438.94ZM958.5 1440V1456H961.5V1440H958.5ZM896 1518.5H544V1521.5H896V1518.5ZM481.5 1456V1440H478.5V1456H481.5ZM544 1518.5C509.482 1518.5 481.5 1490.52 481.5 1456H478.5C478.5 1492.17 507.825 1521.5 544 1521.5V1518.5ZM958.5 1456C958.5 1490.52 930.518 1518.5 896 1518.5V1521.5C932.175 1521.5 961.5 1492.17 961.5 1456H958.5Z" fill="black"/>
      <path d="M480 2096L481.5 2096L481.5 2096L480 2096ZM481.061 1758.94C480.475 1758.35 479.525 1758.35 478.939 1758.94L469.394 1768.49C468.808 1769.07 468.808 1770.02 469.394 1770.61C469.979 1771.19 470.929 1771.19 471.515 1770.61L480 1762.12L488.485 1770.61C489.071 1771.19 490.021 1771.19 490.607 1770.61C491.192 1770.02 491.192 1769.07 490.607 1768.49L481.061 1758.94ZM2400 2096L2398.5 2096L2398.5 2096L2400 2096ZM2336 2160L2336 2161.5H2336L2336 2160ZM544 2160L544 2158.5L544 2158.5L544 2160ZM481.5 2096L481.5 1760L478.5 1760L478.5 2096L481.5 2096ZM2398.5 1120L2398.5 2096L2401.5 2096L2401.5 1120L2398.5 1120ZM2336 2158.5L544 2158.5L544 2161.5L2336 2161.5L2336 2158.5ZM2398.5 2096C2398.5 2130.52 2370.52 2158.5 2336 2158.5L2336 2161.5C2372.18 2161.5 2401.5 2132.17 2401.5 2096L2398.5 2096ZM478.5 2096C478.5 2132.17 507.826 2161.5 544 2161.5L544 2158.5C509.482 2158.5 481.5 2130.52 481.5 2096L478.5 2096Z" fill="black"/>
      <path d="M480 1264L478.5 1264L478.5 1264L480 1264ZM544 1200L544 1201.5H544L544 1200ZM1136 1200L1136 1198.5H1136L1136 1200ZM1200 1264L1201.5 1264L1200 1264ZM1200 1616L1201.5 1616V1616L1200 1616ZM1136 1680L1136 1681.5H1136L1136 1680ZM638.939 1678.94C638.353 1679.52 638.353 1680.47 638.939 1681.06L648.485 1690.61C649.071 1691.19 650.021 1691.19 650.606 1690.61C651.192 1690.02 651.192 1689.07 650.606 1688.48L642.121 1680L650.606 1671.51C651.192 1670.93 651.192 1669.98 650.606 1669.39C650.021 1668.81 649.071 1668.81 648.485 1669.39L638.939 1678.94ZM481.5 1280L481.5 1264L478.5 1264L478.5 1280L481.5 1280ZM544 1201.5L1136 1201.5L1136 1198.5L544 1198.5L544 1201.5ZM1198.5 1264L1198.5 1616L1201.5 1616L1201.5 1264L1198.5 1264ZM1136 1678.5L640 1678.5L640 1681.5L1136 1681.5L1136 1678.5ZM1198.5 1616C1198.5 1650.52 1170.52 1678.5 1136 1678.5L1136 1681.5C1172.17 1681.5 1201.5 1652.17 1201.5 1616L1198.5 1616ZM1136 1201.5C1170.52 1201.5 1198.5 1229.48 1198.5 1264L1201.5 1264C1201.5 1227.83 1172.17 1198.5 1136 1198.5L1136 1201.5ZM481.5 1264C481.5 1229.48 509.482 1201.5 544 1201.5L544 1198.5C507.825 1198.5 478.5 1227.83 478.5 1264L481.5 1264Z" fill="black"/>
    </g>
    <defs>
      <clipPath id="clip0">
        <rect width="2560" height="2560" fill="white"/>
      </clipPath>
      <clipPath id="clip1">
        <rect width="320" height="160" fill="white"/>
      </clipPath>
    </defs>
  </svg>
</div>
